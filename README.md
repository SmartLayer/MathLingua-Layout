# Math-Friendly XKB

Welcome to the `math-friendly-xkb` repository. This project offers a customized version of the "English (intl., with AltGr dead keys)" keyboard layout for Linux users. The layout is optimized for typing mathematical symbols and expressions without compromising the original layout's capabilities[^microsoft]. It's designed as a diff file against the `/usr/share/X11/xkb/symbols/us` file that comes with Ubuntu, replacing the "English (intl., with AltGr dead keys)" layout directly. The repository is updated with every Ubuntu LTS release.

You can find the latest diff file as ubuntu-22.04.diff (for Ubuntu 22.04).

[^microsoft]: The "English (intl., with AltGr dead keys)" layout, originally developed by Microsoft, enables typing in virtually any Latin-based script. It is specifically optimized for Spanish and French, designed to minimize the use of dead keys. Only a few words, such as "bilingüe" (bilingual in Spanish), require the use of dead keys. 

## Features

Each key on the keyboard can produce up to six symbols, organized into three columns. The first column of symbols is generated by either directly pressing the key or using the Shift modifier. The second column is accessed by holding the AltGr key, or AltGr in combination with Shift. The third column is produced by holding the Super key (commonly the Windows key on most keyboards) or using Super in conjunction with Shift.

````
// ┌────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┲━━━━━━━━┓
// │ ~~ │ !¹⁽ │ @²⁾ │ #³³ │ $฿⁴ │ %¸⁵ │ ^¼⁶ │ 7½⁷ │ 8¾⁸ │ 9˘⁹ │ |°⁰ │ _ ̣ª │ =÷⁺ ┃Back    ┃
// │ `` │ 1¡₁ │ 2˝₂ │ 3¯₃ │ 4€₄ │ 5°₅ │ 6^₆ │ 7 ̛₇ │ 8˛₈ │ 9‘₉ │ 0’₀ │ -¥º │ +×₌ ┃space⌫  ┃
// ┢━━━━┷━━┱──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┺━━┳━━━━━┫
// ┃Tab    ┃ QÄ  │ WÅʷ │ EÉᵉ │ RËʳ │ TÞᵗ │ YÜʸ │ UÚᵘ │ IÍⁱ │ OÓᵒ │ PÓᵒ │ [“⁽ │ ]”⁾ ┃ |‡№ ┃
// ┃ ↹     ┃ qä𝑞 │ wå𝑤 │ eé𝑒 │ rë𝑟 │ tτ𝑡 │ yü𝑦 │ uú𝑢 │ ií𝑖 │ oó𝑜 │ pö𝑜 │ («₍ │ )»₎ ┃ \†§ ┃
// ┣━━━━━━━┻━━┱──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴─┬───┴──┬──┴──┬──┴──┬──┴──┬──┴──┲━━┻━━━━━┫
// ┃Caps      ┃ AÁᵃ │ S§ˢ │ DÐᵈ │ FƑᶠ │ GGG │ HHʰ │ JÏʲ │ KŒᵏ │ LØˡ │ :°  │ "¨  ┃ ⏎      ┃
// ┃Lock  ⇬   ┃ aá𝑎 │ sß𝑠 │ dð𝑑 │ fƒ𝑓 │ ggg │ hhℎ │ jï𝑗 │ kœ𝑘 │ lø𝑙 │ ;¶  │ '´  ┃ Enter  ┃
// ┣━━━━━━━━━━┻━┱───┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┲━━━┻━━━━━━━━┫
// ┃Shift       ┃ ZÆᶻ │ XΞˣ │ C¢ᶜ │ Vɑᵛ │ BΒᵇ │ NÑⁿ │ Mµᵐ │ ,Ç  │ ;ˇ… │ ? ̉⁄ ┃Shift       ┃
// ┃ ⇧          ┃ zæ𝑧 │ xξ𝑥 │ c©𝑐 │ vα𝑣 │ bβ𝑏 │ nñ𝑛 │ mµ𝑚 │ .ç  │ :˙· │ /¿∕ ┃ ⇧          ┃
// ┣━━━━━━━┳━━━━┻━━┳━━┷━━━━┱┴─────┴─────┴─────┴─────┴─────┴────┲┷━━━━┳┷━━━━┳┻━━━━━┳━━━━━━┫
// ┃Ctrl   ┃ Super ┃Alt    ┃ ␣ Space            Nobreakspace ⍽ ┃AltGr┃ Fn  ┃ Ctxt ┃ Ctrl ┃
// ┃       ┃       ┃       ┃ ␣ Space            Nobreakspace ⍽ ┃     ┃     ┃ Menu ┃      ┃
// ┗━━━━━━━┻━━━━━━━┻━━━━━━━┹───────────────────────────────────┺━━━━━┻━━━━━┻━━━━━━┻━━━━━━┛
````

The `math-friendly-xkb` layout introduces several enhancements:

- **Euro Sign**: The 'currency' symbol has been replaced with the Euro Sign (€). Use `<alt> + <4>` to type this symbol.

- **Bitcoin Symbol**: The Bitcoin symbol (₿) can be typed using `<alt> + <shift> + <4>`.

- **Greek Letters**: The layout includes α and ξ, two frequently used Greek letters in mathematics. Future updates may include additional Greek letters based on usage frequency.

- **Italic Letters**: A `<super>` key level has been added for every letter in the English alphabet, producing an Italic variant in Unicode often used in mathematical expressions, such as 𝑛.

- **Subscript Digits**: A `<super>` key level has been added for every digit, producing a subscript digit. This feature may be removed in the future due to infrequent use.

- **Superscript Numbers and Operators**: A `<shift> + <super>` level has been added for superscript numbers and arithmetic operators. For example, `<shift> + <super> + <4>` gives you ⁴. This feature is also less used than anticipated.

- **Superscript Letters**: A `<shift> + <super>` level has been added for every letter in the English alphabet except q, which lacks a superscript codepoint in Unicode.

- **Division and Fraction Slashes**: Division slash (∕) and fraction slash (⁄) symbols have been added.

- **Note Symbols**: The first four traditional order of note symbols in English have been added. More information can be found [here](https://en.wikipedia.org/wiki/Note_(typography)).

## Additional Configuration for Small Keyboards

For keyboards with a limited number of keys (63 keys), where the upper-left key is often assigned to ESC instead of tilde, you may prefer to have the tilde key for its use in vim and command line operations. To change the ESC key to a tilde, add the following to the section "English (intl., with AltGr dead keys)":

```bash
key <ESC> { [    grave, asciitilde,  dead_grave,   dead_tilde, Escape ] };
```

This layout is designed to enhance the typing experience for users frequently working with mathematical symbols and expressions. Your feedback and suggestions for improvement are always welcome.

